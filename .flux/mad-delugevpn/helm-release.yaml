apiVersion: helm.toolkit.fluxcd.io/v2
kind: HelmRelease
metadata:
  name: mad-delugevpn
spec:
  interval: 1m
  chart:
    spec:
      chart: ./charts/delugevpn
      sourceRef:
        kind: GitRepository
        name: home-server
      reconcileStrategy: Revision
  values:
    resources:
    limits:
      memory: 256Mi
    ingress:
      host: mad-delugevpn.nwallace.io
    pvc:
      size: 50Mi
    volumes:
    - name: mad-media
      persistentVolumeClaim:
        claimName: mad-media
    volumeMounts:
    - name: mad-media
      mountPath: /media
  driftDetection:
    mode: enabled
