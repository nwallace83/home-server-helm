{{- $appName := "samba" }}
apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ $appName }}-smb-config
data:
  smb.conf: |
    [global]
      workgroup = WORKGROUP
      map to guest = bad user
      guest account = smbuser

    [shared]
      path = /shared
      browsable =yes
      create mask = 0755
      directory mask = 0755
      writable = yes
      guest ok = yes
      guest only = yes

    [images]
      path = /images
      browsable =yes
      create mask = 0755
      directory mask = 0755
      writable = yes
      guest ok = yes
      guest only = yes

    [backup]
      path = /backup
      browsable =yes
      create mask = 0755
      directory mask = 0755
      writable = yes
      guest ok = yes
      guest only = yes

    [Media]
      path = /media
      browsable =yes
      create mask = 0755
      directory mask = 0755
      writable = yes
      guest ok = yes
      guest only = yes

    [Media2]
      path = /media2
      browsable =yes
      create mask = 0755
      directory mask = 0755
      writable = yes
      guest ok = yes
      guest only = yes

    [Media3]
      path = /media3
      browsable =yes
      create mask = 0755
      directory mask = 0755
      writable = yes
      guest ok = yes
      guest only = yes